{% extends 'plantilla.html' %} {% load static %} {% block title %}Comprar Curso
- {{ curso.nombre }}{% endblock %} {% block css %}
<link rel="stylesheet" href="{% static 'css/compra_curso.css' %}" />
{% endblock %} {% block content %} {% for cursito in cursito %}
<h1>Comprar Curso - {{ cursito.nombre }}</h1>
{% endfor %}

<div id="curso-seleccionado">
  <!-- La información del curso se mostrará aquí -->
</div>

<div class="curso-detalle">
  <div class="curso-info">
    {% for cursito in cursito %}
    <img src="{{ cursito.imagen }}" alt="Curso Imagen" />
    <h2>{{ cursito.nombre }}</h2>
    <p>{{ cursito.descripcion }}</p>
    <p>Precio: ${{ cursito.precio }}</p>
    {% endfor %}
  </div>
</div>

<form action="" method="post">
  {% csrf_token %}
  <input type="hidden" name="curso_id" value="{{ curso.id_curso }}" />
  <div class="form-group">
    <label for="nombre">Nombre Completo</label>
    <input type="text" id="nombre" name="nombre" required />
  </div>
  <div class="form-group">
    <label for="email">Correo Electrónico</label>
    <input type="email" id="email" name="email" required />
  </div>
  <div class="form-group">
    <label for="tarjeta">Número de Tarjeta</label>
    <input type="text" id="tarjeta" name="tarjeta" required />
  </div>
  <div class="form-group">
    <label for="caducidad">Fecha de Caducidad (MM/YY)</label>
    <input
      type="text"
      id="caducidad"
      name="caducidad"
      placeholder="MM/YY"
      required
    />
  </div>
  <div class="form-group">
    <label for="cvv">CVV</label>
    <input type="text" id="cvv" name="cvv" required />
  </div>
  <button type="submit">Comprar Ahora</button>
</form>
{% endblock %} {% block scripts %}
<script>
  document.addEventListener("DOMContentLoaded", function() {
      // Obtener el contenedor donde se mostrará la información del curso
      const contenedorCurso = document.getElementById('curso-seleccionado');

      // Obtener cada dato del curso del localStorage
      const nombre = localStorage.getItem('cursoNombre');
      const descripcion = localStorage.getItem('cursoDescripcion');
      const imagen = localStorage.getItem('cursoImagen');
      const precio = localStorage.getItem('cursoPrecio');

      // Verificar si hay información del curso en el localStorage
      if (nombre && descripcion && imagen) {
          // Crear el contenido HTML con la información del curso
          const cursoHTML = `

              <div class="curso-detalle">
                <div class="curso-info">
                <h2>${nombre }</h2>
                <p>${descripcion }</p>
                <p>${precio}</p>
                </div>
            </div>
          `;

          // Insertar el contenido HTML en el contenedor
          contenedorCurso.innerHTML = cursoHTML;
      } else {
          // Mostrar un mensaje si no hay información del curso en el localStorage
          contenedorCurso.innerHTML = '<p>No hay curso seleccionado.</p>';
      }
  });
</script>
{% endblock %}
